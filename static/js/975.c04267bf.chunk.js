"use strict";(self.webpackChunkelif_tech_test_frontend=self.webpackChunkelif_tech_test_frontend||[]).push([[975],{5975:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var r=t(9439),i=t(2791),u=t(9434),c=function(n){return n.shops.items},s=function(n){return n.shops.isLoading},o=t(9775),f=t(184),l=function(n){var e=n.setVariant,t=(0,u.I0)(),l=(0,u.v9)(c),a=(0,u.v9)(s),d=(0,i.useState)(null),h=(0,r.Z)(d,2),p=h[0],j=h[1];(0,i.useEffect)((function(){t((0,o.N)())}),[t]),(0,i.useEffect)((function(){l&&l.length>0&&(j(l[0]._id),e(l[0]._id))}),[l,e]);var v=function(n){var t=n.target.value;j(t),e(t)};return l?(0,f.jsxs)("ul",{children:[a&&(0,f.jsx)("h2",{children:"loading..."}),l.map((function(n){return(0,f.jsx)("li",{children:(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"radio",name:"shop",value:n._id,onChange:v,checked:p===n._id}),n.name]})},n._id)}))]}):null},a=t(5218),d=function(n){return n.menus.items},h=t(3060),p=t(3107),j=t(6834),v=function(n){var e=n.shopId,t=(0,u.I0)(),c=(0,u.v9)(j.d),s=(0,i.useState)(!1),o=(0,r.Z)(s,2),l=o[0],v=o[1];(0,i.useEffect)((function(){t((0,h.g)(e))}),[t,e]);(0,i.useEffect)((function(){l&&(a.ZP.error("You can order from only one shop"),v(!1))}),[l]);var x=(0,u.v9)(d);return x?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("ul",{children:x.map((function(n,e){return(0,f.jsxs)("li",{children:[(0,f.jsxs)("div",{children:[n.photo&&(0,f.jsx)("img",{src:n.photo,alt:""}),"photo"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{children:n.name}),(0,f.jsxs)("p",{children:["Price: ",n.price,"$"]}),(0,f.jsx)("button",{type:"button",onClick:function(){return function(n){if(c.find((function(e){return e.owner!==n.owner})))return v(!0),null;t((0,p.Xq)(n))}(n)},children:"BUY"})]})]},"".concat(n._id,"-").concat(e))}))})}):null},x=function(){var n=(0,i.useState)(""),e=(0,r.Z)(n,2),t=e[0],u=e[1];return(0,f.jsxs)("div",{children:[(0,f.jsx)(l,{setVariant:u}),(0,f.jsx)(v,{shopId:t})]})}},6834:function(n,e,t){t.d(e,{d:function(){return r}});var r=function(n){return n.cart.items}}}]);
//# sourceMappingURL=975.c04267bf.chunk.js.map