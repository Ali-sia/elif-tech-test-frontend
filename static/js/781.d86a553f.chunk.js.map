{"version":3,"file":"static/js/781.d86a553f.chunk.js","mappings":"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","sources":["page/ShopPage/ShopPage.styled.jsx","redux/shop/shopSelectors.js","components/ShopList/ShopList.styled.jsx","components/ShopList/ShopList.jsx","components/ShopMenu/ShopMenu.styled.jsx","redux/menu/menuSelectors.js","components/ShopMenu/ShopMenu.jsx","page/ShopPage/ShopPage.jsx","redux/cart/cartSelectors.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Shop = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100%;\n`;\n","//selectors\n\nexport const getShopsList = state => state.shops.items;\n\nexport const getShopsLoading = state => state.shops.isLoading;\n","import styled from 'styled-components';\n\nexport const StyledShopList = styled.ul`\n  width: ${p => p.theme.space[8] + 100}px;\n  min-height: 100vh;\n\n  padding: ${p => p.theme.space[5] - 6}px;\n  color: ${p => p.theme.colors.white};\n  background-color: ${p => p.theme.colors.darkBackground};\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n\nexport const ShopItem = styled.li`\n  margin-bottom: ${p => p.theme.space[4]}px;\n\n  padding: ${p => p.theme.space[3]}px;\n  border-bottom: ${p => p.theme.borders.normal} ${p => p.theme.colors.white};\n`;\n\nexport const ShopLabel = styled.label`\n  width: 100%;\n  & input {\n    margin-right: ${p => p.theme.space[3]}px;\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { getShopsList, getShopsLoading } from '../../redux/shop/shopSelectors';\nimport { fetchShops } from 'redux/shop/shopOperations';\nimport { useEffect, useState } from 'react';\n\nimport { StyledShopList, ShopItem, ShopLabel } from './ShopList.styled';\n\nconst ShopList = ({ setVariant }) => {\n  const dispatch = useDispatch();\n  const shops = useSelector(getShopsList);\n  const isLoading = useSelector(getShopsLoading);\n  const [selectedShop, setSelectedShop] = useState(null);\n\n  useEffect(() => {\n    dispatch(fetchShops());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (shops && shops.length > 0) {\n      setSelectedShop(shops[0]._id);\n      setVariant(shops[0]._id);\n    }\n  }, [shops, setVariant]);\n\n  const handleVariantChange = event => {\n    const selectedShopId = event.target.value;\n    setSelectedShop(selectedShopId);\n    setVariant(selectedShopId);\n  };\n\n  if (!shops) {\n    return null;\n  }\n\n  return (\n    <StyledShopList>\n      {isLoading && <h2>loading...</h2>}\n      {shops.map(shop => {\n        return (\n          <ShopItem key={shop._id}>\n            <ShopLabel>\n              <input\n                type=\"radio\"\n                name=\"shop\"\n                value={shop._id}\n                onChange={handleVariantChange}\n                checked={selectedShop === shop._id}\n              />\n              <span>{shop.name}</span>\n            </ShopLabel>\n          </ShopItem>\n        );\n      })}\n    </StyledShopList>\n  );\n};\n\nexport default ShopList;\n","import styled from 'styled-components';\n\nexport const MenuList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n\n  height: 100vh;\n\n  padding: ${p => p.theme.space[5] - 6}px;\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n\nexport const MenuItem = styled.li`\n  border: ${p => p.theme.borders.normal} ${p => p.theme.colors.black};\n  border-radius: ${p => p.theme.radii.md};\n  padding: ${p => p.theme.space[5] - 6}px;\n\n  width: ${p => p.theme.space[8] + 44}px;\n\n  margin-bottom: ${p => p.theme.space[2]}px;\n  margin-right: ${p => p.theme.space[2]}px;\n`;\nexport const PhotoHolder = styled.div`\n  width: 100%;\n  height: ${p => p.theme.space[7] + 22}px;\n\n  border-radius: ${p => p.theme.radii.md};\n  background-color: ${p => p.theme.colors.darkBackground};\n`;\n\nexport const ItemInfo = styled.div`\n  padding: ${p => p.theme.space[3]}px 0px;\n  font-size: ${p => p.theme.fontSizes.m};\n`;\nexport const ItemTitle = styled.h3`\n  font-size: ${p => p.theme.fontSizes.ml};\n  padding-bottom: ${p => p.theme.space[2]}px;\n`;\nexport const ItemPrice = styled.p`\n  margin-bottom: ${p => p.theme.space[2]}px;\n`;\nexport const StyledButton = styled.button`\n  padding: ${p => p.theme.space[3]}px;\n  border-radius: ${p => p.theme.radii.sm};\n  border-color: transparent;\n  background-color: ${p => p.theme.colors.primary};\n  color: ${p => p.theme.colors.white};\n`;\n","//selectors\nexport const getShopMenu = state => state.menus.items;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport toast from 'react-hot-toast';\nimport {\n  MenuList,\n  PhotoHolder,\n  ItemInfo,\n  ItemTitle,\n  ItemPrice,\n  StyledButton,\n  MenuItem,\n} from './ShopMenu.styled';\n\nimport { getShopMenu } from '../../redux/menu/menuSelectors';\nimport { fetchShopMenu } from 'redux/menu/menuOperations';\n\nimport { addToCart } from '../../redux/cart/cartSlice';\nimport { getCart } from '../../redux/cart/cartSelectors';\n\nconst ShopMenu = ({ shopId }) => {\n  const dispatch = useDispatch();\n  const cart = useSelector(getCart);\n  const [showToaster, setShowToaster] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchShopMenu(shopId));\n  }, [dispatch, shopId]);\n\n  const handleAddToCart = item => {\n    const isAnotherShop = cart.find(test => test.owner !== item.owner);\n\n    if (isAnotherShop) {\n      setShowToaster(true);\n      return null;\n    }\n\n    dispatch(addToCart(item));\n  };\n\n  useEffect(() => {\n    if (showToaster) {\n      toast.error('You can order from only one shop');\n      setShowToaster(false);\n    }\n  }, [showToaster]);\n\n  const menu = useSelector(getShopMenu);\n  if (!menu) {\n    return null;\n  }\n\n  return (\n    <MenuList>\n      {menu.map((item, index) => {\n        return (\n          <MenuItem key={`${item._id}-${index}`}>\n            <PhotoHolder>\n              {item.photo && <img src={item.photo} alt=\"\" />}\n              photo\n            </PhotoHolder>\n            <ItemInfo>\n              <ItemTitle>{item.name}</ItemTitle>\n              <ItemPrice>\n                Price: <b>{item.price}$</b>\n              </ItemPrice>\n              <StyledButton type=\"button\" onClick={() => handleAddToCart(item)}>\n                BUY\n              </StyledButton>\n            </ItemInfo>\n          </MenuItem>\n        );\n      })}\n    </MenuList>\n  );\n};\n\nexport default ShopMenu;\n","import { useState } from 'react';\nimport { Shop } from './ShopPage.styled';\n\nimport ShopList from 'components/ShopList/ShopList';\nimport ShopMenu from 'components/ShopMenu/ShopMenu';\n\nconst ShopPage = () => {\n  const [variant, setVariant] = useState('');\n\n  return (\n    <Shop>\n      <ShopList setVariant={setVariant} />\n      <ShopMenu shopId={variant} />\n    </Shop>\n  );\n};\n\nexport default ShopPage;\n","//selectors\nexport const getCart = state => state.cart.items;\n"],"names":["Shop","styled","getShopsList","state","shops","items","getShopsLoading","isLoading","StyledShopList","p","theme","space","colors","white","darkBackground","fontSizes","m","ShopItem","borders","normal","ShopLabel","setVariant","dispatch","useDispatch","useSelector","useState","selectedShop","setSelectedShop","useEffect","fetchShops","length","_id","handleVariantChange","event","selectedShopId","target","value","map","shop","type","name","onChange","checked","MenuList","MenuItem","black","radii","md","PhotoHolder","ItemInfo","ItemTitle","ml","ItemPrice","StyledButton","sm","primary","getShopMenu","menus","shopId","cart","getCart","showToaster","setShowToaster","fetchShopMenu","toast","menu","item","index","photo","src","alt","price","onClick","find","test","owner","addToCart","handleAddToCart","variant"],"sourceRoot":""}